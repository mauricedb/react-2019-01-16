{"version":3,"sources":["src/store.js","src/demo.js"],"names":["state","value","name","reducer","action","type","payload","subscribers","subscribe","sub","push","filter","s","dispatch","forEach","createAddAction","amount","createRenameAction","console","log","setInterval","unsub","setTimeout"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,KAAK,GAAG;AACVC,EAAAA,KAAK,EAAE,CADG;AAEVC,EAAAA,IAAI,EAAE;AAFI,CAAZ;;AAKA,SAASC,OAAT,CAAiBH,KAAjB,EAAwBI,MAAxB,EAAgC;AAC9B,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,KAAL;AACE,+BAAYL,KAAZ;AAAmBC,QAAAA,KAAK,EAAED,KAAK,CAACC,KAAN,GAAcG,MAAM,CAACE;AAA/C;;AACF,SAAK,QAAL;AACE,+BAAYN,KAAZ;AAAmBE,QAAAA,IAAI,EAAEE,MAAM,CAACE;AAAhC;AAJJ;;AAMA,SAAON,KAAP;AACD;;AAED,IAAIO,WAAW,GAAG,EAAlB;;AAEO,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AAC7BF,EAAAA,WAAW,CAACG,IAAZ,CAAiBD,GAAjB;AAEA,SAAO;AAAA,WAAOF,WAAW,GAAGA,WAAW,CAACI,MAAZ,CAAmB,UAAAC,CAAC;AAAA,aAAIA,CAAC,KAAKH,GAAV;AAAA,KAApB,CAArB;AAAA,GAAP;AACD;;AAEM,SAASI,QAAT,CAAkBT,MAAlB,EAA0B;AAC/BJ,EAAAA,KAAK,GAAGG,OAAO,CAACH,KAAD,EAAQI,MAAR,CAAf;AAEAG,EAAAA,WAAW,CAACO,OAAZ,CAAoB,UAAAF,CAAC;AAAA,WAAIA,CAAC,CAACZ,KAAD,CAAL;AAAA,GAArB;AACD;;;;AC3BD;;AAEA,SAASe,eAAT,GAAqC;AAAA,MAAZC,MAAY,uEAAH,CAAG;AACnC,SAAO;AACLX,IAAAA,IAAI,EAAE,KADD;AAELC,IAAAA,OAAO,EAAEU;AAFJ,GAAP;AAID;;AAED,SAASC,kBAAT,CAA4Bf,IAA5B,EAAkC;AAChC,SAAO;AACLG,IAAAA,IAAI,EAAE,QADD;AAELC,IAAAA,OAAO,EAAEJ;AAFJ,GAAP;AAID;;AAED,sBAAU,UAAAU,CAAC;AAAA,SAAIM,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBP,CAAlB,CAAJ;AAAA,CAAX;AAEA,qBAASG,eAAe,EAAxB;AAEAK,WAAW,CAAC;AAAA,SAAM,qBAASL,eAAe,CAAC,CAAD,CAAxB,CAAN;AAAA,CAAD,EAAqC,IAArC,CAAX;AAEA,IAAIM,KAAK,GAAG,sBAAU,UAAAT,CAAC;AAAA,SAAIM,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBP,CAAnB,CAAJ;AAAA,CAAX,CAAZ;AACA,qBAASK,kBAAkB,CAAC,MAAD,CAA3B;AACAK,UAAU,CAACD,KAAD,EAAQ,IAAR,CAAV","file":"demo.1f2fc787.map","sourceRoot":"..","sourcesContent":["let state = {\r\n  value: 0,\r\n  name: 'Maurice'\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'ADD':\r\n      return { ...state, value: state.value + action.payload };\r\n    case 'RENAME':\r\n      return { ...state, name: action.payload };\r\n  }\r\n  return state;\r\n}\r\n\r\nlet subscribers = [];\r\n\r\nexport function subscribe(sub) {\r\n  subscribers.push(sub);\r\n\r\n  return () => (subscribers = subscribers.filter(s => s !== sub));\r\n}\r\n\r\nexport function dispatch(action) {\r\n  state = reducer(state, action);\r\n\r\n  subscribers.forEach(s => s(state));\r\n}\r\n","import { dispatch, subscribe } from './store';\r\n\r\nfunction createAddAction(amount = 1) {\r\n  return {\r\n    type: 'ADD',\r\n    payload: amount\r\n  };\r\n}\r\n\r\nfunction createRenameAction(name) {\r\n  return {\r\n    type: 'RENAME',\r\n    payload: name\r\n  };\r\n}\r\n\r\nsubscribe(s => console.log('S1', s));\r\n\r\ndispatch(createAddAction());\r\n\r\nsetInterval(() => dispatch(createAddAction(1)), 1000);\r\n\r\nvar unsub = subscribe(s => console.log('S 2', s));\r\ndispatch(createRenameAction('Jack'));\r\nsetTimeout(unsub, 2000);\r\n"]}